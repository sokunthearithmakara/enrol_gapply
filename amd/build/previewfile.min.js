define("enrol_gapply/previewfile",["exports","jquery"],(function(_exports,_jquery){var obj;Object.defineProperty(_exports,"__esModule",{value:!0}),_exports.init=void 0,_jquery=(obj=_jquery)&&obj.__esModule?obj:{default:obj};_exports.init=()=>{(0,_jquery.default)("a[data-type]").click((function(e){var modal='<div class="modal fade" id="applyfile" data-backdrop="static" data-keyboard="false" tabindex="-1" aria-labelledby="applyfileLabel" aria-modal="true" role="dialog">\n                                                    <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">\n                                                        <div class="modal-content">\n                                                            <div class="modal-header">\n                                                                <h5 class="modal-title" id="applyfileLabel"></h5>\n                                                                <button   class="close" data-dismiss="modal" aria-label="Close">\n                                                                <i class="fa fa-times" aria-hidden="true"></i>\n                                                                </button>\n                                                            </div>\n                                                            <div class="modal-body p-0 text-center">\n                                                            </div>\n                                                            <div class="modal-footer">\n                                                                <a href="javascript:void(0)" id="forcedownloadbutton"\n                                                                    class="btn btn-primary text-uppercase font-weight-bold">'.concat(M.util.get_string("download","enrol_gapply"),'</a>\n                                                                <button class="btn btn-secondary text-uppercase font-weight-bold"\n                                                                    data-dismiss="modal">').concat(M.util.get_string("close","enrol_gapply"),"</button>\n                                                            </div>\n                                                        </div>\n                                                    </div>\n                                            </div>");(0,_jquery.default)("#applyfile").remove(),(0,_jquery.default)("body").append(modal),(0,_jquery.default)("#applyfileLabel").html((0,_jquery.default)(this).text()),(0,_jquery.default)("#applyfile").modal("show"),(0,_jquery.default)(this).data("type").includes("image")?(0,_jquery.default)("#applyfile .modal-body").html('<img src="'.concat((0,_jquery.default)(this).data("url"),'" class="img-fluid mx-auto">')):(0,_jquery.default)(this).data("type").includes("video")?(0,_jquery.default)("#applyfile .modal-body").html('<video src="'.concat((0,_jquery.default)(this).data("url"),'"\n                    class="embed-responsive-item text-center m-0" controls width="100%" autoplay></video>')):(0,_jquery.default)(this).data("type").includes("audio")?(0,_jquery.default)("#applyfile .modal-body").html('<audio src="'.concat((0,_jquery.default)(this).data("url"),'"\n                    class="embed-responsive-item text-center m-0" controls width="100%" autoplay></audio>')):(0,_jquery.default)(this).data("type").includes("pdf")?(0,_jquery.default)("#applyfile .modal-body").html('<object data="'.concat((0,_jquery.default)(this).data("url"),'" type="application/pdf"\n                     width="100%" style="height: 80vh">\n                                            <p>').concat(M.util.get_string("cannotopenpdffile","enrol_gapply",(0,_jquery.default)(this).data("url")),"</p>\n                                            </object>")):(0,_jquery.default)(this).data("type").includes("officedocument")||(0,_jquery.default)(this).data("type").includes("msword")||(0,_jquery.default)(this).data("type").includes("ms-excel")||(0,_jquery.default)(this).data("type").includes("ms-powerpoint")||(0,_jquery.default)(this).data("type").includes("openxmlformats")?(0,_jquery.default)("#applyfile .modal-body").html('<iframe id="fileviewer"\n                    src="https://view.officeapps.live.com/op/embed.aspx?src='.concat((0,_jquery.default)(this).data("url"),'"\n                    class="embed-responsive-item" style="width: 100%; height: 80vh"></iframe>')):(0,_jquery.default)(this).data("type").includes("text")||(0,_jquery.default)(this).data("type").includes("csv")?(0,_jquery.default)("#applyfile .modal-body").html('<iframe id="fileviewer"\n                    src="https://docs.google.com/viewer?url='.concat((0,_jquery.default)(this).data("url"),'&embedded=true"\n                    class="embed-responsive-item" style="width: 100%; height: 80vh; border-radius: 0"></iframe>')):(0,_jquery.default)("#applyfile .modal-body").html('<p\n                    class="text-center py-5">'.concat(M.util.get_string("cannotopenfile","enrol_gapply",(0,_jquery.default)(this).data("url")),"</p>"));var newURL=new URL((0,_jquery.default)(this).data("url"));(0,_jquery.default)("#applyfile").on("click","#forcedownloadbutton",(function(e){newURL.searchParams.append("forcedownload",1),window.open(newURL.toString())}))}))}}));

//# sourceMappingURL=previewfile.min.js.map