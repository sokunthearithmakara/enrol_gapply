!function(factory){if("function"==typeof define&&define.amd)define("enrol_gapply/dataTables.rowGroup",["jquery","enrol_gapply/jquery.dataTables"],(function($){return factory($,window,document)}));else if("object"==typeof exports){var jq=require("jquery"),cjsRequires=function(root,$){$.fn.dataTable||require("enrol_gapply/jquery.dataTables")(root,$)};"undefined"==typeof window?module.exports=function(root,$){return root||(root=window),$||($=jq(root)),cjsRequires(root,$),factory($,root,root.document)}:(cjsRequires(window,jq),module.exports=factory(jq,window,window.document))}else factory(jQuery,window,document)}((function($,window,document,undefined$1){var DataTable=$.fn.dataTable,RowGroup=function(dt,opts){if(!DataTable.versionCheck||!DataTable.versionCheck("1.10.8"))throw"RowGroup requires DataTables 1.10.8 or newer";this.c=$.extend(!0,{},DataTable.defaults.rowGroup,RowGroup.defaults,opts),this.s={dt:new DataTable.Api(dt)},this.dom={};var settings=this.s.dt.settings()[0],existing=settings.rowGroup;if(existing)return existing;settings.rowGroup=this,this._constructor()};return $.extend(RowGroup.prototype,{dataSrc:function(val){if(val===undefined$1)return this.c.dataSrc;var dt=this.s.dt;return this.c.dataSrc=val,$(dt.table().node()).triggerHandler("rowgroup-datasrc.dt",[dt,val]),this},disable:function(){return this.c.enable=!1,this},enable:function(flag){return!1===flag?this.disable():(this.c.enable=!0,this)},enabled:function(){return this.c.enable},_constructor:function(){var that=this,dt=this.s.dt,hostSettings=dt.settings()[0];dt.on("draw.dtrg",(function(e,s){that.c.enable&&hostSettings===s&&that._draw()})),dt.on("column-visibility.dt.dtrg responsive-resize.dt.dtrg",(function(){that._adjustColspan()})),dt.on("destroy",(function(){dt.off(".dtrg")}))},_adjustColspan:function(){$("tr."+this.c.className,this.s.dt.table().body()).find("td:visible").attr("colspan",this._colspan())},_colspan:function(){return this.s.dt.columns().visible().reduce((function(a,b){return a+b}),0)},_draw:function(){var dt=this.s.dt,groupedRows=this._group(0,dt.rows({page:"current"}).indexes());this._groupDisplay(0,groupedRows)},_group:function(level,rows){for(var last,fns=Array.isArray(this.c.dataSrc)?this.c.dataSrc:[this.c.dataSrc],fn=DataTable.ext.oApi._fnGetObjectDataFn(fns[level]),dt=this.s.dt,data=[],i=0,ien=rows.length;i<ien;i++){var group,rowIndex=rows[i];null!==(group=fn(dt.row(rowIndex).data()))&&group!==undefined$1||(group=this.c.emptyDataGroup),last!==undefined$1&&group===last||(data.push({dataPoint:group,rows:[]}),last=group),data[data.length-1].rows.push(rowIndex)}if(fns[level+1]!==undefined$1)for(i=0,ien=data.length;i<ien;i++)data[i].children=this._group(level+1,data[i].rows);return data},_groupDisplay:function(level,groups){for(var display,dt=this.s.dt,i=0,ien=groups.length;i<ien;i++){var row,group=groups[i],groupName=group.dataPoint,rows=group.rows;this.c.startRender&&(display=this.c.startRender.call(this,dt.rows(rows),groupName,level),(row=this._rowWrap(display,this.c.startClassName,level))&&row.insertBefore(dt.row(rows[0]).node())),this.c.endRender&&(display=this.c.endRender.call(this,dt.rows(rows),groupName,level),(row=this._rowWrap(display,this.c.endClassName,level))&&row.insertAfter(dt.row(rows[rows.length-1]).node())),group.children&&this._groupDisplay(level+1,group.children)}},_rowWrap:function(display,className,level){return null!==display&&""!==display||(display=this.c.emptyDataGroup),display===undefined$1||null===display?null:("object"==typeof display&&display.nodeName&&"tr"===display.nodeName.toLowerCase()?$(display):display instanceof $&&display.length&&"tr"===display[0].nodeName.toLowerCase()?display:$("<tr/>").append($("<th/>").attr("colspan",this._colspan()).attr("scope","row").append(display))).addClass(this.c.className).addClass(className).addClass("dtrg-level-"+level)}}),RowGroup.defaults={className:"dtrg-group",dataSrc:0,emptyDataGroup:"No group",enable:!0,endClassName:"dtrg-end",endRender:null,startClassName:"dtrg-start",startRender:function(rows,group){return group}},RowGroup.version="1.4.0",$.fn.dataTable.RowGroup=RowGroup,$.fn.DataTable.RowGroup=RowGroup,DataTable.Api.register("rowGroup()",(function(){return this})),DataTable.Api.register("rowGroup().disable()",(function(){return this.iterator("table",(function(ctx){ctx.rowGroup&&ctx.rowGroup.enable(!1)}))})),DataTable.Api.register("rowGroup().enable()",(function(opts){return this.iterator("table",(function(ctx){ctx.rowGroup&&ctx.rowGroup.enable(opts===undefined$1||opts)}))})),DataTable.Api.register("rowGroup().enabled()",(function(){var ctx=this.context;return!(!ctx.length||!ctx[0].rowGroup)&&ctx[0].rowGroup.enabled()})),DataTable.Api.register("rowGroup().dataSrc()",(function(val){return val===undefined$1?this.context[0].rowGroup.dataSrc():this.iterator("table",(function(ctx){ctx.rowGroup&&ctx.rowGroup.dataSrc(val)}))})),$(document).on("preInit.dt.dtrg",(function(e,settings,json){if("dt"===e.namespace){var init=settings.oInit.rowGroup,defaults=DataTable.defaults.rowGroup;if(init||defaults){var opts=$.extend({},defaults,init);!1!==init&&new RowGroup(settings,opts)}}})),DataTable}));

//# sourceMappingURL=dataTables.rowGroup.min.js.map